@model DivingApp.Models.ViewModel.Auth.EditUserViewModel
@{    
    Layout = "_ReturnLayout";
}

<form asp-controller="auth" asp-action="edit" asp-anit-forgery="true" enctype="multipart/form-data">

    <div class="container">

        <div class="row col-lg-12">
            <div class="text-success">@ViewBag.ChangedOkText</div>
            <div asp-validation-summary="ValidationSummary.All" class="text-danger" style="padding-top:10px;"></div>

            <h3>Edit user settings</h3>

            <br />

            <div class="row col-lg-7 col-md-6 col-sm-6 ">
                <div class="row col-lg-12 top-offset form-group">
                    <label class="col-lg-4 col-md-5 col-sm-6">Email</label>
                    <div class="col-lg-8 col-md-7 col-sm-6 ">
                        <input class="form-control input-sm" style="width:100%" asp-for="Email" type="email" />
                    </div>                    
                </div>

                <div class="top-offset " style="display:none" id="passwordChangePanel">
                    <div class="row col-lg-12 form-group">
                        <label class="col-lg-4 col-md-5 col-sm-6">Old password</label>
                        <div class="col-lg-8 col-md-7 col-sm-6">
                            <input class="form-control input-sm" style="width:100%" asp-for="OldPassword " type="password" />
                        </div>
                    </div>

                    <div class="row col-lg-12 form-group">
                        <label class="col-lg-4 col-md-5 col-sm-6">New password</label>
                        <div class="col-lg-8 col-md-7 col-sm-6">
                            <input class="form-control input-sm" style="width:100%" asp-for="NewPassword " type="password" />
                        </div>
                    </div>

                    <div class="row col-lg-12 form-group">
                        <label class="col-lg-4 col-md-5 col-sm-6">Confirm Password</label>
                        <div class="col-lg-8 col-md-7 col-sm-6">
                            <input class="form-control input-sm " style="width:100%" asp-for="ConfirmPassword" type="password" />
                        </div>
                    </div>
                </div>

                <div class="row col-lg-12 top-offset-double form-group">
                    <div class="loginLabel col-lg-4 col-md-5 col-sm-6">FirstName</div>
                    <div class="col-lg-8 col-md-7 col-sm-6">
                        <input class="form-control input-sm " asp-for="FirstName" type="text" />
                    </div>
                </div>

                <div class="row col-lg-12 form-group">
                    <div class="loginLabel col-lg-4 col-md-5  col-sm-6">LastName</div>
                    <div class="col-lg-8 col-md-7 col-sm-6">
                        <input class="form-control input-sm " asp-for="LastName" type="text" />
                    </div>
                </div>

                <div class="row col-lg-12 form-group">
                    <div class="loginLabel col-lg-4 col-md-5  col-sm-6">Date birth</div>
                    <div class="col-lg-8 col-md-7 col-sm-6">
                        <input class="form-control input-sm" asp-for="BirthDay" type="datetime" />
                        <script type="text/javascript">
                            $(function () {
                                $('#BirthDay').datetimepicker({
                                    format: 'DD/MM/YYYY'
                                });
                            });
                        </script>
                    </div>
                </div>

                <div class="row col-lg-12 form-group">
                    <div class="loginLabel col-lg-4 col-md-5  col-sm-6">Country</div>
                    <div class="col-lg-8 col-md-7 col-sm-6">
                        <div class="styled-select" style="margin-top:3px;width:100%">
                            <select asp-items="@ViewBag.Countries" asp-for="CountryKod" class="form-control input-sm"></select>
                        </div>
                    </div>
                </div>

                <div class="row col-lg-12 form-group">
                    <div class="loginLabel col-lg-4 col-md-5  col-sm-6">City</div>
                    <div class="col-lg-8 col-md-7 col-sm-6">
                        <input class="form-control input-sm " asp-for="City" type="text" />
                    </div>
                </div>
                <div class="row col-lg-12 form-group">
                    <div class="loginLabel col-lg-4 col-md-5  col-sm-6">Address</div>
                    <div class="col-lg-8 col-md-7 col-sm-6">
                        <input class="form-control input-sm " asp-for="Adress" type="text" />
                    </div>
                </div>
                <div class="row col-lg-12 form-group">
                    <div class="loginLabel col-lg-4 col-md-5  col-sm-6">Phone number</div>
                    <div class="col-lg-8 col-md-7 col-sm-6">
                        <input class="form-control input-sm " asp-for="Phone" type="tel" id="phone" name="phone" style="width:100%" />
                    </div>
                </div>                
            </div>

            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="row">
                    <div class="fileinput fileinput-new" data-provides="fileinput">
                        <div class="fileinput-new thumbnail top-offset" style="width: 200px; height: 185px;">
                            <img src="/api/getuserphoto/@User.Identity.Name" alt="..." onerror="this.src = '/images/icon.png'">
                        </div>
                        <div class="fileinput-preview thumbnail fileinput-exists top-offset" data-trigger="fileinput" style="width: 200px; height: 185px;"></div>
                        <div class="top-offset">
                            <center>
                                <div class="btn btn-primary btn-file">
                                    <span class="fileinput-new">Select image</span><span class="fileinput-exists">Change</span>
                                    <input type="file" asp-for="ImageUpload">
                                </div>
                                <div href="#" class="btn btn-danger fileinput-exists" data-dismiss="fileinput">Remove</div>
                                
                            </center>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 row top-offset-double" style="padding-left:20px;">
            <a class="btn btn-primary" asp-controller="home" asp-action="index">Return back</a>
            &nbsp;
            <div class="btn btn-primary" onclick="$(this).hide(); $('#passwordChangePanel').show();">Change password</div>
            &nbsp;
            <input type="submit" class="btn btn-success" value="Save changes" />
        </div>
    </div>

</form>


