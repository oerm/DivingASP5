@{
    Layout = "_LogbookLayout";
}

<form asp-anit-forgery="true" ng-app="diving-app" ng-controller="diveController as diveCtrl" ng-init="diveCtrl.init('@User.Identity.Name')">

    <div class="row">
        <div style="width:280px;display:inline-block" ng-cloak>
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div style="display:inline-block;padding:5px;padding-left:10px">
                            <span class="navmenu-text"><b>My dives</b></span>
                        </div>
                        <div class="btn-group pull-right" style="margin-right:10px;">
                            <span class="btn btn-default btn-sm">
                                <span class="fa fa-plus"></span>&nbsp;&nbsp;Create new
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body" style="padding:0;margin-bottom:-1px;">
                    <ul class="list-group" style="padding:0;margin-bottom:0" ng-show="diveCtrl.dives.length>0">
                        <li class="list-group-item" ng-repeat="d in diveCtrl.dives" style="padding-right:0;padding-left:10px;padding:0; border-radius:0;border-left:0;border-right:0">
                            <div ng-class="{shadowBackground: d.DiveID == diveCtrl.selectedDiveId}" style="padding:5px;padding-left:15px;padding-top:7px;padding-bottom:7px;">

                                <div style="display: inline-block;width:210px;white-space:nowrap;">
                                    <div style="float:left">
                                        <b>{{d.DiveNumber}}</b>
                                        &nbsp;&nbsp;{{d.DiveDate}}
                                        &nbsp;
                                        <img style="margin-top:-2px" ng-src="/api/getcountryflag/{{d.CountryID}}" />
                                        &nbsp;
                                    </div>
                                    <div style="width:70px;float:left;overflow:hidden;margin-right:10px">{{d.CountryName}}</div>
                                    <a href="#" style="display: inline-block;width:20px;" title="Edit dive" ng-click="diveCtrl.GetDive(d.DiveID)">
                                        <span class="fa fa-pencil" ng-click="diveCtrl.GetDive(d.DiveID)"></span>
                                    </a>

                                    <a href="#" style="width:20px;display: inline-block;color:tomato" title="Delete dive">
                                        <span class="fa fa-trash"></span>
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <p class="list-group text-center top-offset-double" style="font-size: 24px;" ng-show="diveCtrl.Dives.length==0">
                        No dives
                    </p>

                </div>
                <div class="panel-footer">
                    <div class="row">
                        <div style="display: inline-block;padding:5px;padding-left:10px">
                            <span>
                                <b>Total</b> &nbsp;
                                <span class="label label-info">{{diveCtrl.dives.length}}</span>
                            </span>
                        </div>
                        <div class="pull-right" style="display: inline-block;padding:0;margin-right:10px;">
                            <ul class="pagination pagination-sm " style="margin:0;display: inline-block;">
                                <li class="disabled">
                                    <a href="#">«</a>
                                </li>
                                <li class="active">
                                    <a href="#">1</a>
                                </li>
                                <li class="active">
                                    <a href="#">2</a>
                                </li>
                                <li class="active">
                                    <a href="#">3</a>
                                </li>
                                <li class="disabled">
                                    <a href="#">»</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-12 col-md-8 col-sm-7 pull-right" style="display:inline-block;" ng-show="diveCtrl.showLoadingTab">
            <div class="row text-center text-info" style="padding-left:25px;padding-top:150px;height:110px;">
                <i class="fa fa-spinner fa-spin fa-5x"></i>
            </div>
        </div>

        <div class="col-lg-9 col-md-8 col-sm-7 pull-right" style="display:inline-block;" ng-show="!diveCtrl.showLoadingTab" ng-cloak>
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div style="display:inline-block;padding:5px;padding-left:10px">
                            <span class="navmenu-text"><b>Dive properties</b></span>
                        </div>
                        <div class="btn btn-default btn-sm pull-right" style="display:inline-block;margin-right:10px;">
                            <i class="fa fa-save"></i>&nbsp;&nbsp;Save changes
                        </div>
                    </div>
                </div>               

                <div class="panel-body">
                    <div class="row" style="padding-left:25px;">
                        <ul class="nav nav-pills">
                            <li role="presentation" ng-class="diveCtrl.showDivesTab? 'active' :''" ng-click="diveCtrl.showSelectedDiveTab(1)">
                                <a href="#">
                                    <i class="fa fa-list"></i>&nbsp;&nbsp;
                                    Details
                                </a>
                            </li>
                            <li role="presentation" ng-class="diveCtrl.showMapsTab? 'active' :''" ng-click="diveCtrl.showSelectedDiveTab(2)">
                                <a href="#">
                                    <i class="fa fa-globe"></i>&nbsp;&nbsp;
                                    Map
                                </a>
                            </li>
                            <li role="presentation" ng-class="diveCtrl.showPhotosTab? 'active' :''" ng-click="diveCtrl.showSelectedDiveTab(3)">
                                <a href="#">
                                    <i class="fa fa-image"></i>&nbsp;&nbsp;
                                    Photos
                                </a>
                            </li>
                        </ul>
                    </div>                    

                    <div ng-show="diveCtrl.showDivesTab" ng-cloak>
                        <div class="row text-left" style="padding-left:25px;padding-bottom:10px;">
                            <h3>General Dive details:</h3>
                        </div>

                        <div class="col-lg-2 col-md-4 form-group-sm top-offset ">
                            Dive date
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset-sm">
                            <input type="text" class="form-control input-sm" placeholder="Select dive date" ng-model="diveCtrl.selectedDive.DiveDateString" />
                        </div>
                        <div class="col-lg-2 col-md-4 form-group-sm top-offset">
                            Country
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset-sm">

                            <select class="form-control input-sm" ng-model="diveCtrl.selectedDive.CountryId" ng-options="item.Value as item.Text for item in diveCtrl.countries">
                                <option value="0">-- Select an option--</option>                          
                            </select>

                        </div>

                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg" placeholder="Dive location name">
                            Location
                        </div>
                        <div class="col-lg-10 col-md-8 top-offset">
                            <input type="text" class="form-control input-sm" ng-model="diveCtrl.selectedDive.Location" />
                        </div>

                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Dive depth
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset">
                            <input type="text" class="form-control input-sm" placeholder="Maximum depth in meters" ng-model="diveCtrl.selectedDive.MaxDepth" />
                        </div>
                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Total minutes
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset">
                            <input type="text" class="form-control input-sm" placeholder="Time in minutes" ng-model="diveCtrl.selectedDive.TotalMinutes" />
                        </div>

                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Suit type
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset">
                            <select class="form-control input-sm" ng-model="diveCtrl.selectedDive.SuitType" ng-options="item.Value as item.Text for item in diveCtrl.suits">
                                <option value="">-- Select an option--</option>                              
                            </select>                         
                        </div>
                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Tank type
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset">
                            <select class="form-control input-sm" ng-model="diveCtrl.selectedDive.Tank" ng-options="item.Value as item.Text for item in diveCtrl.tanks">
                                <option value="">-- Select an option--</option>
                            </select>
                        </div>

                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Tank consume
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset">
                            <input type="text" class="form-control input-sm" placeholder="Start" style="width:44%;display:inline-block" ng-model="diveCtrl.selectedDive.TankStart" />
                            <input type="text" class="form-control input-sm pull-right" placeholder="End" style="width:44%;display:inline-block" ng-model="diveCtrl.selectedDive.TankEnd" />
                        </div>
                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Visibility
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset">
                            <input type="text" class="form-control input-sm" placeholder="Approximet in meters" ng-model="diveCtrl.selectedDive.Visibility" />
                        </div>

                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Total weights
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset">
                            <input type="text" class="form-control input-sm" placeholder="Kilos" ng-model="diveCtrl.selectedDive.Weight" />
                        </div>
                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Weights suit
                        </div>
                        <div class="col-lg-4 col-md-8 top-offset">
                            <select class="form-control input-sm" ng-model="diveCtrl.selectedDive.WeightIsOk" ng-options="item.Value as item.Text for item in diveCtrl.weights">
                                <option value="">-- Select an option--</option>
                            </select>
                        </div>

                        <div class="col-lg-2 col-md-4 form-group-sm top-offset-lg">
                            Description
                        </div>
                        <div class="col-lg-10 col-md-8 top-offset">
                            <textarea rows="10" class="form-control input-sm" ng-model="diveCtrl.selectedDive.Comments"></textarea>
                        </div>

                    </div>

                    <div ng-show="diveCtrl.showMapsTab" ng-cloak>
                        <div class="row text-left" style="padding-left:25px;padding-bottom:10px;">
                            <h3>Dive location on world map:</h3>
                        </div>

                        <div class="thumbnail" id="map" style="width:100%;height:510px; max-width: none;"></div>

                        <div class="row">
                            <div class="col-lg-12 form-group-sm text-center">
                                {{diveCtrl.selectedDive.Latitude}} - {{diveCtrl.selectedDive.Longitude}}
                            </div>
                        </div>

                        <div class="row top-offset">
                                <div class="col-lg-2 col-md-4 form-group-sm top-offset-sm">
                                    <b>Location name:</b>
                                </div>


                                <div class="col-lg-8 col-md-6">
                                    <input type="text" class="form-control input-sm" placeholder="Type location name" />
                                </div>
                                <div class="col-lg-2 col-md-2">
                                    <a href="#" class="btn btn-primary btn-sm pull-right">
                                        <i class="fa fa-search"></i>&nbsp;&nbsp;&nbsp;
                                        Search
                                    </a>
                                </div>
                            </div>
                        </div>

                    <div ng-show="diveCtrl.showPhotosTab" ng-cloak>
                        <div class="row text-left" style="padding-left:25px;padding-bottom:10px;">
                            <h3>Photos from the dive:</h3>
                        </div>
                    </div>                   
                </div>
            </div>
        </div>
    </div>
</form>

<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>


